<code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#000000">// $Id: canvasex04.php,v 1.1 2002/08/27 20:08:57 aditus Exp $<br /></font><font color="#007700">include </font><font color="#DD0000">"../jpgraph.php"</font><font color="#007700">;<br />include </font><font color="#DD0000">"../jpgraph_canvas.php"</font><font color="#007700">;<br />include </font><font color="#DD0000">"../jpgraph_canvtools.php"</font><font color="#007700">;<br /><br /></font><font color="#000000">// Define work space<br /></font><font color="#0000BB">$xmax</font><font color="#007700">=</font><font color="#0000BB">20</font><font color="#007700">;<br /></font><font color="#0000BB">$ymax</font><font color="#007700">=</font><font color="#0000BB">20</font><font color="#007700">;<br /><br /></font><font color="#000000">// Setup a basic canvas we can work <br /></font><font color="#0000BB">$g </font><font color="#007700">= new </font><font color="#0000BB">CanvasGraph</font><font color="#007700">(</font><font color="#0000BB">200</font><font color="#007700">,</font><font color="#0000BB">100</font><font color="#007700">,</font><font color="#DD0000">'auto'</font><font color="#007700">);<br /></font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">SetMargin</font><font color="#007700">(</font><font color="#0000BB">5</font><font color="#007700">,</font><font color="#0000BB">11</font><font color="#007700">,</font><font color="#0000BB">6</font><font color="#007700">,</font><font color="#0000BB">11</font><font color="#007700">);<br /></font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">SetShadow</font><font color="#007700">();<br /></font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">SetMarginColor</font><font color="#007700">(</font><font color="#DD0000">"teal"</font><font color="#007700">);<br /><br /></font><font color="#000000">// We need to stroke the plotarea and margin before we add the<br />// text since we otherwise would overwrite the text.<br /></font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">InitFrame</font><font color="#007700">();<br /><br /></font><font color="#000000">// Create a new scale<br /></font><font color="#0000BB">$scale </font><font color="#007700">= new </font><font color="#0000BB">CanvasScale</font><font color="#007700">(</font><font color="#0000BB">$g</font><font color="#007700">);<br /></font><font color="#0000BB">$scale</font><font color="#007700">-&gt;</font><font color="#0000BB">Set</font><font color="#007700">(</font><font color="#0000BB">0</font><font color="#007700">,</font><font color="#0000BB">$xmax</font><font color="#007700">,</font><font color="#0000BB">0</font><font color="#007700">,</font><font color="#0000BB">$ymax</font><font color="#007700">);<br /><br /></font><font color="#000000">// The shape class is wrapper around the Imgae class which translates<br />// the coordinates for us<br /></font><font color="#0000BB">$shape </font><font color="#007700">= new </font><font color="#0000BB">Shape</font><font color="#007700">(</font><font color="#0000BB">$g</font><font color="#007700">,</font><font color="#0000BB">$scale</font><font color="#007700">);<br /></font><font color="#0000BB">$shape</font><font color="#007700">-&gt;</font><font color="#0000BB">SetColor</font><font color="#007700">(</font><font color="#DD0000">'black'</font><font color="#007700">);<br /><br /><br /></font><font color="#000000">// Add a black line<br /></font><font color="#0000BB">$shape</font><font color="#007700">-&gt;</font><font color="#0000BB">SetColor</font><font color="#007700">(</font><font color="#DD0000">'black'</font><font color="#007700">);<br /></font><font color="#0000BB">$shape</font><font color="#007700">-&gt;</font><font color="#0000BB">Line</font><font color="#007700">(</font><font color="#0000BB">0</font><font color="#007700">,</font><font color="#0000BB">0</font><font color="#007700">,</font><font color="#0000BB">20</font><font color="#007700">,</font><font color="#0000BB">20</font><font color="#007700">);<br /><br /></font><font color="#000000">// .. and a circle (x,y,diameter)<br /></font><font color="#0000BB">$shape</font><font color="#007700">-&gt;</font><font color="#0000BB">Circle</font><font color="#007700">(</font><font color="#0000BB">5</font><font color="#007700">,</font><font color="#0000BB">14</font><font color="#007700">,</font><font color="#0000BB">2</font><font color="#007700">);<br /><br /></font><font color="#000000">// .. and a filled circle (x,y,diameter)<br /></font><font color="#0000BB">$shape</font><font color="#007700">-&gt;</font><font color="#0000BB">SetColor</font><font color="#007700">(</font><font color="#DD0000">'red'</font><font color="#007700">);<br /></font><font color="#0000BB">$shape</font><font color="#007700">-&gt;</font><font color="#0000BB">FilledCircle</font><font color="#007700">(</font><font color="#0000BB">11</font><font color="#007700">,</font><font color="#0000BB">8</font><font color="#007700">,</font><font color="#0000BB">3</font><font color="#007700">);<br /><br /></font><font color="#000000">// .. add a rectangle<br /></font><font color="#0000BB">$shape</font><font color="#007700">-&gt;</font><font color="#0000BB">SetColor</font><font color="#007700">(</font><font color="#DD0000">'green'</font><font color="#007700">);<br /></font><font color="#0000BB">$shape</font><font color="#007700">-&gt;</font><font color="#0000BB">FilledRectangle</font><font color="#007700">(</font><font color="#0000BB">15</font><font color="#007700">,</font><font color="#0000BB">8</font><font color="#007700">,</font><font color="#0000BB">19</font><font color="#007700">,</font><font color="#0000BB">14</font><font color="#007700">);<br /><br /></font><font color="#000000">// .. add a filled rounded rectangle<br /></font><font color="#0000BB">$shape</font><font color="#007700">-&gt;</font><font color="#0000BB">SetColor</font><font color="#007700">(</font><font color="#DD0000">'green'</font><font color="#007700">);<br /></font><font color="#0000BB">$shape</font><font color="#007700">-&gt;</font><font color="#0000BB">FilledRoundedRectangle</font><font color="#007700">(</font><font color="#0000BB">2</font><font color="#007700">,</font><font color="#0000BB">3</font><font color="#007700">,</font><font color="#0000BB">8</font><font color="#007700">,</font><font color="#0000BB">6</font><font color="#007700">);<br /></font><font color="#000000">// .. with a darker border<br /></font><font color="#0000BB">$shape</font><font color="#007700">-&gt;</font><font color="#0000BB">SetColor</font><font color="#007700">(</font><font color="#DD0000">'darkgreen'</font><font color="#007700">);<br /></font><font color="#0000BB">$shape</font><font color="#007700">-&gt;</font><font color="#0000BB">RoundedRectangle</font><font color="#007700">(</font><font color="#0000BB">2</font><font color="#007700">,</font><font color="#0000BB">3</font><font color="#007700">,</font><font color="#0000BB">8</font><font color="#007700">,</font><font color="#0000BB">6</font><font color="#007700">);<br /><br /><br /></font><font color="#000000">// Stroke the graph<br /></font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">Stroke</font><font color="#007700">();<br /><br /></font><font color="#0000BB">?&gt;<br /></font><br /></font>
</code>